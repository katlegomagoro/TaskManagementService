@inherits LayoutComponentBase
@using MudBlazor

<MudThemeProvider />
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout>
    @if (ShouldShowHeader())
    {
        <MudAppBar Elevation="1" Color="Color.Default">
            <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" />
            
            <MudAppBarSpacer />
            
            <MudText Typo="Typo.h6" Class="ml-3" Style="color: #673ab7; font-weight: bold;">
                Task Management Service
            </MudText>
            
            <MudAppBarSpacer />
            
            <!-- Auth buttons in app bar - only show when NOT on auth page -->
            @if (!IsOnAuthPage())
            {
                <MudButtonGroup Variant="Variant.Text" Class="mr-3">
                    <MudButton Variant="Variant.Text" 
                               Color="Color.Primary" 
                               Href="/auth"
                               Class="text-transform-none">
                        Sign In
                    </MudButton>
                    <MudButton Variant="Variant.Outlined" 
                               Color="Color.Secondary" 
                               Href="/auth/register"
                               Class="text-transform-none">
                        Sign Up
                    </MudButton>
                </MudButtonGroup>
            }
        </MudAppBar>
    }

    <MudMainContent>
        <MudContainer MaxWidth="MaxWidth.False" Class="pa-4" Style="height: 100vh;">
            @Body
        </MudContainer>
    </MudMainContent>
</MudLayout>